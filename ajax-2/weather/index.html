<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
    <head>
        <title>新建网页</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />

        <script type="text/javascript">
        function f1(){
            //ajax无刷新方式获得天气信息
                
            var xhr = new XMLHttpRequest();
            xhr.onreadystatechange = function(){
                if(xhr.readyState==4){
                    //alert(xhr.responseText);
                    eval("var jn_info="+xhr.responseText);
                    var s = "城市:"+jn_info.weatherinfo.city;
                    s += "风向："+jn_info.weatherinfo.WD;
                    s += "湿度："+jn_info.weatherinfo.SD;
                    document.getElementById('result').innerHTML = s;
                }
            }

            //xhr.open('get','http://www.weather.com.cn/adat/sk/101010100.html');
            xhr.open('get','./data.php');
            xhr.send(null);
        }
        </script>
        <style type="text/css">
        </style>
    </head>
    <body>
        <h2>天气预报显示</h2>
        <input type="button" value="获得天气" onclick="f1()" />
        <div id="result"></div>

        <hr />
        <iframe width="420" scrolling="no" height="60" frameborder="0" allowtransparency="true" src="http://i.tianqi.com/index.php?c=code&id=12&color=%2300B0F0&bgc=%23&bdc=%23002060&icon=4&num=5"></iframe>

        <hr />
        <iframe name="weather_inc" src="http://tianqi.xixik.com/cframe/4" width="130" height="120" frameborder="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>

    </body>
</html>